(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this),function(){var t,e;e=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,Rails.matches=function(t,a){return null!=a.exclude?e.call(t,a.selector)&&!e.call(t,a.exclude):e.call(t,a)},t="_ujsData",Rails.getData=function(e,a){var n;return null!=(n=e[t])?n[a]:void 0},Rails.setData=function(e,a,n){return null==e[t]&&(e[t]={}),e[t][a]=n},Rails.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var t,e,a;t=Rails.$,a=Rails.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},e=Rails.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},Rails.CSRFProtection=function(t){var e;if(null!=(e=a()))return t.setRequestHeader("X-CSRF-Token",e)},Rails.refreshCSRFTokens=function(){var n,i;if(i=a(),n=e(),null!=i&&null!=n)return t('form input[name="'+n+'"]').forEach(function(t){return t.value=i})}}.call(this),function(){var t,e,a;a=Rails.matches,t=window.CustomEvent,"function"!=typeof t&&(t=function(t,e){var a;return a=document.createEvent("CustomEvent"),a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a},t.prototype=window.Event.prototype),e=Rails.fire=function(e,a,n){var i;return i=new t(a,{bubbles:!0,cancelable:!0,detail:n}),e.dispatchEvent(i),!i.defaultPrevented},Rails.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},Rails.delegate=function(t,e,n,i){return t.addEventListener(n,function(t){var n;for(n=t.target;n instanceof Element&&!a(n,e);)n=n.parentNode;if(n instanceof Element&&i.call(n,t)===!1)return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var t,e,a,n,i,l;e=Rails.CSRFProtection,n=Rails.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},Rails.ajax=function(t){var e;return t=i(t),e=a(t,function(){var a;return a=l(e.response,e.getResponseHeader("Content-Type")),2===Math.floor(e.status/100)?"function"==typeof t.success&&t.success(a,e.statusText,e):"function"==typeof t.error&&t.error(a,e.statusText,e),"function"==typeof t.complete?t.complete(e,e.statusText):void 0}),"function"==typeof t.beforeSend&&t.beforeSend(e,t),e.readyState===XMLHttpRequest.OPENED?e.send(t.data):n(document,"ajaxStop")},i=function(e){return e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},a=function(t,a){var n;return n=new XMLHttpRequest,n.open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),e(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return a(n)},n},l=function(t,e){var a,n;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(t){}else if(e.match(/\bjavascript\b/))n=document.createElement("script"),n.innerHTML=t,document.body.appendChild(n);else if(e.match(/\b(xml|html|svg)\b/)){a=new DOMParser,e=e.replace(/;.+/,"");try{t=a.parseFromString(t,e)}catch(t){}}return t},Rails.href=function(t){return t.href},Rails.isCrossDomain=function(t){var e,a;e=document.createElement("a"),e.href=location.href,a=document.createElement("a");try{return a.href=t,!((!a.protocol||":"===a.protocol)&&!a.host||e.protocol+"//"+e.host==a.protocol+"//"+a.host)}catch(t){return t,!0}}}.call(this),function(){var t,e;t=Rails.matches,e=function(t){return Array.prototype.slice.call(t)},Rails.serializeElement=function(a,n){var i,l;return i=[a],t(a,"form")&&(i=e(a.elements)),l=[],i.forEach(function(a){if(a.name)return t(a,"select")?e(a.options).forEach(function(t){if(t.selected)return l.push({name:a.name,value:t.value})}):a.checked||["radio","checkbox","submit"].indexOf(a.type)===-1?l.push({name:a.name,value:a.value}):void 0}),n&&l.push(n),l.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},Rails.formElements=function(a,n){return t(a,"form")?e(a.elements).filter(function(e){return t(e,n)}):e(a.querySelectorAll(n))}}.call(this),function(){var t,e,a;e=Rails.fire,a=Rails.stopEverything,Rails.handleConfirm=function(e){if(!t(this))return a(e)},t=function(t){var a,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(a=!1,e(t,"confirm")){try{a=confirm(i)}catch(t){}n=e(t,"confirm:complete",[a])}return a&&n}}.call(this),function(){var t,e,a,n,i,l,r,o,s,u,c;s=Rails.matches,o=Rails.getData,u=Rails.setData,c=Rails.stopEverything,r=Rails.formElements,Rails.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,s(e,Rails.linkDisableSelector)?l(e):s(e,Rails.buttonDisableSelector)||s(e,Rails.formEnableSelector)?n(e):s(e,Rails.formSubmitSelector)?i(e):void 0},Rails.disableElement=function(n){var i;return i=n instanceof Event?n.target:n,s(i,Rails.linkDisableSelector)?a(i):s(i,Rails.buttonDisableSelector)||s(i,Rails.formDisableSelector)?t(i):s(i,Rails.formSubmitSelector)?e(i):void 0},a=function(t){var e;return e=t.getAttribute("data-disable-with"),null!=e&&(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",c),u(t,"ujs:disabled",!0)},l=function(t){var e;return e=o(t,"ujs:enable-with"),null!=e&&(t.innerHTML=e,u(t,"ujs:enable-with",null)),t.removeEventListener("click",c),u(t,"ujs:disabled",null)},e=function(e){return r(e,Rails.formDisableSelector).forEach(t)},t=function(t){var e;return e=t.getAttribute("data-disable-with"),null!=e&&(s(t,"button")?(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(u(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,u(t,"ujs:disabled",!0)},i=function(t){return r(t,Rails.formEnableSelector).forEach(n)},n=function(t){var e;return e=o(t,"ujs:enable-with"),null!=e&&(s(t,"button")?t.innerHTML=e:t.value=e,u(t,"ujs:enable-with",null)),t.disabled=!1,u(t,"ujs:disabled",null)}}.call(this),function(){var t;t=Rails.stopEverything,Rails.handleMethod=function(e){var a,n,i,l,r,o,s;if(o=this,s=o.getAttribute("data-method"))return r=Rails.href(o),n=Rails.csrfToken(),a=Rails.csrfParam(),i=document.createElement("form"),l="<input name='_method' value='"+s+"' type='hidden' />",null==a||null==n||Rails.isCrossDomain(r)||(l+="<input name='"+a+"' value='"+n+"' type='hidden' />"),l+='<input type="submit" />',i.method="post",i.action=r,i.target=o.target,i.innerHTML=l,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),t(e)}}.call(this),function(){var t,e,a,n,i,l,r,o,s,u=[].slice;l=Rails.matches,a=Rails.getData,o=Rails.setData,e=Rails.fire,s=Rails.stopEverything,t=Rails.ajax,n=Rails.isCrossDomain,r=Rails.serializeElement,i=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},Rails.handleRemote=function(c){var d,m,f,p,b,h,R;return p=this,!i(p)||(e(p,"ajax:before")?(R=p.getAttribute("data-with-credentials"),f=p.getAttribute("data-type")||"script",l(p,Rails.formSubmitSelector)?(d=a(p,"ujs:submit-button"),b=a(p,"ujs:submit-button-formmethod")||p.method,h=a(p,"ujs:submit-button-formaction")||p.getAttribute("action")||location.href,"GET"===b.toUpperCase()&&(h=h.replace(/\?.*$/,"")),"multipart/form-data"===p.enctype?(m=new FormData(p),null!=d&&m.append(d.name,d.value)):m=r(p,d),o(p,"ujs:submit-button",null),o(p,"ujs:submit-button-formmethod",null),o(p,"ujs:submit-button-formaction",null)):l(p,Rails.buttonClickSelector)||l(p,Rails.inputChangeSelector)?(b=p.getAttribute("data-method"),h=p.getAttribute("data-url"),m=r(p,p.getAttribute("data-params"))):(b=p.getAttribute("data-method"),h=Rails.href(p),m=p.getAttribute("data-params")),t({type:b||"GET",url:h,data:m,dataType:f,beforeSend:function(t,a){return e(p,"ajax:beforeSend",[t,a])?e(p,"ajax:send",[t]):(e(p,"ajax:stopped"),t.abort())},success:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],e(p,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],e(p,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],e(p,"ajax:complete",t)},crossDomain:n(h),withCredentials:null!=R&&"false"!==R}),s(c)):(e(p,"ajax:stopped"),!1))},Rails.formSubmitButtonClick=function(){var t,e;if(t=this,e=t.form)return t.name&&o(e,"ujs:submit-button",{name:t.name,value:t.value}),o(e,"ujs:formnovalidate-button",t.formNoValidate),o(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),o(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},Rails.handleMetaClick=function(t){var e,a,n;if(a=this,n=(a.getAttribute("data-method")||"GET").toUpperCase(),e=a.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===n&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,e,a,n,i,l,r,o,s,u,c,d,m;l=Rails.fire,a=Rails.delegate,o=Rails.getData,t=Rails.$,m=Rails.refreshCSRFTokens,e=Rails.CSRFProtection,i=Rails.enableElement,n=Rails.disableElement,s=Rails.handleConfirm,d=Rails.handleRemote,r=Rails.formSubmitButtonClick,u=Rails.handleMetaClick,c=Rails.handleMethod,"undefined"==typeof jQuery||null===jQuery||jQuery.rails||(jQuery.rails=Rails,jQuery.ajaxPrefilter(function(t,a,n){if(!t.crossDomain)return e(n)})),Rails.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(Rails.formEnableSelector).forEach(function(t){if(o(t,"ujs:disabled"))return i(t)}),t(Rails.linkDisableSelector).forEach(function(t){if(o(t,"ujs:disabled"))return i(t)})}),a(document,Rails.linkDisableSelector,"ajax:complete",i),a(document,Rails.linkDisableSelector,"ajax:stopped",i),a(document,Rails.buttonDisableSelector,"ajax:complete",i),a(document,Rails.buttonDisableSelector,"ajax:stopped",i),a(document,Rails.linkClickSelector,"click",s),a(document,Rails.linkClickSelector,"click",u),a(document,Rails.linkClickSelector,"click",n),a(document,Rails.linkClickSelector,"click",d),a(document,Rails.linkClickSelector,"click",c),a(document,Rails.buttonClickSelector,"click",s),a(document,Rails.buttonClickSelector,"click",n),a(document,Rails.buttonClickSelector,"click",d),a(document,Rails.inputChangeSelector,"change",s),a(document,Rails.inputChangeSelector,"change",d),a(document,Rails.formSubmitSelector,"submit",s),a(document,Rails.formSubmitSelector,"submit",d),a(document,Rails.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),a(document,Rails.formSubmitSelector,"ajax:send",n),a(document,Rails.formSubmitSelector,"ajax:complete",i),a(document,Rails.formInputClickSelector,"click",s),a(document,Rails.formInputClickSelector,"click",r),document.addEventListener("DOMContentLoaded",m),window._rails_loaded=!0},window.Rails===Rails&&l(document,"rails:attachBindings")&&Rails.start()}.call(this);